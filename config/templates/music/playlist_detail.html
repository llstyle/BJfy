{% extends 'base.html' %}

{% block title %}{{ playlist.name }} - Music Streaming{% endblock %}

{% block content %}
<div style="margin-bottom: 32px;">
    <div style="font-size: 12px; text-transform: uppercase; font-weight: 600; margin-bottom: 8px;">Плейлист</div>
    <h1 style="font-size: 48px; font-weight: bold; margin-bottom: 16px;">{{ playlist.name }}</h1>
    <div style="color: #b3b3b3;">
        <span>{{ playlist.user.username }}</span>
        <span> • </span>
        <span>{{ playlist.songs.count }} треков</span>
    </div>
</div>

<section class="section">
    <ul class="song-list">
        {% for song in playlist.songs.all %}
        <li class="song-item" onclick="playSong('{{ song.audio_file.url }}', '{{ song.title }}', '{{ song.artist.name }}',  '{% if song.album.cover %}{{ song.album.cover.url }}{% else %}/static/placeholder.png{% endif %}')">
            <span class="song-number">{{ forloop.counter }}</span>
            <img src="{% if song.album.cover %}{{ song.album.cover.url }}{% else %}/static/placeholder.png{% endif %}" 
                 alt="{{ song.title }}" 
                 style="width: 48px; height: 48px; border-radius: 4px; object-fit: cover;">
            <div class="song-info">
                <div class="song-title">{{ song.title }}</div>
                <div class="song-artist">{{ song.artist.name }}</div>
            </div>
            <button class="icon-btn" onclick="event.stopPropagation(); toggleFavorite('{{ song.pk }}')">❤️</button>
        </li>
        {% empty %}
        <p style="color: #b3b3b3;">В этом плейлисте пока нет треков.</p>
        {% endfor %}
    </ul>
</section>
{% endblock %}